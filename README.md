# Lemon Grove
[![Build Status][:badge-travis:]][:project-travis:]

- https://github.com/tajmone/lemon-grove

The original Lemon parser generator, along with sibling projects, forks and assets — all in one place.

Project maintained by [Tristano Ajmone] since 2019/04/23.


-----

**Table of Contents**

<!-- MarkdownTOC autolink="true" bracket="round" autoanchor="false" lowercase="only_ascii" uri_encoding="true" levels="1,2,3" -->

- [About Lemon](#about-lemon)
- [Project Contents](#project-contents)
- [Lemon Links](#lemon-links)
    - [Official Lemon](#official-lemon)
    - [Lemon Forks](#lemon-forks)
        - [Lemonex](#lemonex)
    - [Cross-Language Lemons](#cross-language-lemons)
        - [Citron \(Swift\)](#citron-swift)
        - [Golemon \(Go\)](#golemon-go)
        - [jlemon \(Java\)](#jlemon-java)
        - [Lemon.JS](#lemonjs)
        - [Lemon PHP](#lemon-php)
        - [Lemon Rust](#lemon-rust)
    - [Lemon Ports](#lemon-ports)
        - [pomelo \(Rust\)](#pomelo-rust)
    - [Lemon Inspired](#lemon-inspired)
        - [limecc \(Python\)](#limecc-python)
    - [Editors Support for Lemon](#editors-support-for-lemon)
        - [Atom](#atom)
        - [Emacs](#emacs)
        - [Sublime Text](#sublime-text)
        - [VSCode](#vscode)
        - [Vim](#vim)
    - [Lemon Tools](#lemon-tools)
        - [Lemon Slicer](#lemon-slicer)
- [Good Reads](#good-reads)
    - [Compiler Design in C](#compiler-design-in-c)

<!-- /MarkdownTOC -->

-----


# About Lemon

- http://www.hwaci.com/sw/lemon/

The Lemon program is an [LALR(1)]  [parser generator].
It takes a context free grammar and converts it into a subroutine that will parse a file using that grammar.
Lemon is similar to the much more famous programs "YACC" and "BISON".
But lemon is not compatible with either yacc or bison.
There are several important differences:

* Lemon using a different grammar syntax which is less prone to programming errors.
* The parser generated by Lemon is both re-entrant and thread-safe.
* Lemon includes the concept of a non-terminal destructor, which makes it much easier to write a parser that does not leak memory.

The complete source code to the lemon parser generator is contained in two files.


# Project Contents

Currently, this repository contains only the official version of Lemon (public domain) taken from the [SQLite] project:

- [`/lemon/`](./lemon/) — original Lemon sources from [SQLite]:
    + [`/examples/`](./lemon/examples) — user-contributed examples.
    + [`/sliced/`](./lemon/sliced) — [de-amalgamated] Lemon (split sources).
    + [`lemon.c`](./lemon/lemon.c) — parser generator program.
    + [`lempar.c`](./lemon/lempar.c) — template for the parser generator.
    + [`lemon.md`](./lemon/lemon.md) — documentation.

The `examples/` subfolder contains third-party examples based on this version of Lemon (the examples are not from the SQLite project).

There are many variations of the original Lemon code circulating over the Internet, and it's quite common to find tutorials and examples that rely on tweaked versions of Lemon, often in conjunction with other tools (like [re2c]).

To avoid confusion, in this project all examples are kept together with the Lemon version for which they were designed. Different versions of Lemon (forks, ports, etc.) will be kept in separate folders, and each version will have its own `examples/` subfolder.
The idea is to keep the Lemon Grove tidy and well structured, so that its users can easily distinguish which version of Lemon is where, and how to find examples for that specific version.

The [`sliced/` subfolder][slcd] contains a [de-amalgamated] version of Lemon, i.e. the single `lemon.c` source file is split into separate modules (23 files), like it used to be originally.
Anyone interested in studying or porting the Lemon source code will find it easier to work on these individual modules, instead of the official single-file source (&gt;5600 lines).

Since de-amalgamation is done via a custom tool ([Lemon Slicer]) and derived from the code found in the `lemon/` folder, the Lemon sources in the `sliced/` folder will always mirror the code from the `lemon/` folder.
Whenever the latter is updated, the former gets updated too.

# Lemon Links

External links to useful third party Lemon-assets.

- [Lemon on Wikipedia]

## Official Lemon

The official Lemon code, actively maintained as part of the [SQLite] project.

- [Lemon homepage]
- [Lemon documentation]
- Upstream Lemon sources on [SQLite] repository ([Fossil]):
    + [`lemon.c`](https://www.sqlite.org/src/file/tool/lemon.c)
    + [`lempar.c`](https://www.sqlite.org/src/file/tool/lempar.c)
    + [`lemon.html`](https://sqlite.org/src/doc/trunk/doc/lemon.html)

## Lemon Forks

Adaptations of Lemon that add new functionality or provide native integration with other tools.

### Lemonex

- https://github.com/renjipanicker/lemonex

Created by [@renjipanicker] in 2015, public domain.

Lemonex is an extension to the lemon parser, developed to include a built.in lexer.

## Cross-Language Lemons

Lemon has been adapted to produce parser generators in other programming languages too, by tweaking its C source code and creating an _ad hoc_ version of `lempar.c` in the target language.

### Citron (Swift)

- https://github.com/roop/citron
- https://roopc.net/citron/

By [Roopesh Chander] in 2017, MIT licensed.

Citron is an LALR parser generator for Swift, based on the Lemon engine.

### Golemon (Go)

- https://github.com/nsf/golemon

Created by [@nsf] in 2010, public domain.

Outdate and no longer maintained, but a good starting point for anyone willing to revive the project.

### jlemon (Java)

- https://github.com/gwenn/jlemon

Created by [@gwenn] in 2017, released into the public domain via [Unlicense].

A fork of the LEMON parser generator that generates Java code and the associated SQL parser.

### Lemon.JS

- https://github.com/sormy/lemon-js

Created by [Artem Butusov] in 2017, public domain.

### Lemon PHP

- https://github.com/wez/lemon-php

Created by [Wez Furlong] in 2006, last updated in 2012, BSD-like license.

### Lemon Rust

- https://github.com/rodrigorc/lemon_rust

Created by [Rodrigo Rivas Costa] in 2015, released under Apache-2.0 license.

Lemon Rust is now deprecated in favour of [pomelo], by same author.


## Lemon Ports

Lemon reimplementations in other languages

### pomelo (Rust)

- https://github.com/rodrigorc/pomelo
- https://crates.io/crates/pomelo

By [Rodrigo Rivas Costa], released under dual license — MIT or Apache-2.0.

Implementation of the Lemon parser generator as a Rust procedural macro.

## Lemon Inspired

Lemon has played an influential role in the development of parser generators, serving as a model for the creation of similar tools. Here are links to some of them.

### limecc (Python)

- https://github.com/avakar/limecc

By [Martin Vejnár], Boost Software License 1.0.

limecc is a lexer and parser generator similar to other tools like yacc, bison and especially lemon from which limecc sources inspiration. Grammars are written in a language called Lime, which describes lexical tokens, grammar productions, and sematic actions. The generator produces C++ code for the corresponding lexer and parser.

## Editors Support for Lemon

Packages/plugins for adding support for Lemon grammar files to various editors.

Missing packages? Please add them via pull request, or [open an issue] and provide a link.

### Atom

- https://github.com/kyursen/language-lemon

By [Yursen Kim], MIT License.

> Adds syntax highlighting to Lemon Parser Generator files in Atom.

### Emacs

- https://github.com/mooz/lemon-mode

By [Masafumi Oyamada], GNU GPL v3.

> Emacs major mode for editing LEMON grammar files.

### Sublime Text

- https://github.com/ksherlock/sublime-lemon

By [@ksherlock], CC0 1.0 Universal.

> Sublime Text 3 syntax file for the Lemon parser generator.

### VSCode

- https://github.com/sergeyklay/lemon-vscode

By [Serghei Iakovlev], MIT License.

> Lemon Parser Generator syntax highlighting for VSCode.

### Vim

- https://github.com/dccmx/vim-lemon-syntax
- https://github.com/vim-scripts/lemon.vim

By [@dccmx], MIT License.

> Crappy syntax highlighting in Vim for Lemon Parser Generator grammars.

## Lemon Tools

Links to some Lemon-related tools.

### Lemon Slicer

- https://github.com/tajmone/lemon-slicer

Lemon Slicer is a dedicated tool to de-amalgamate the "`lemon.c`" source file into separate modules.
It was created specifically for the Lemon Grove project.

By [Tristano Ajmone], MIT License.

# Good Reads

Links to useful books, articles and tutorials on the topics of lexing and parsing.

## Compiler Design in C

Free PDF book + sources, 984 pp.

- https://holub.com/compiler/

Originally published in 1990 by [Prentice-Hall Inc.], _Compiler Design in C_, by [Allen Holub], is an excellent book on the topic. Written in plain language, this book takes the reader through a 984 pages long journey on how to build a compiler, step by step, introducing and explaining each compiler component in detail, and providing source code examples of each implementation step.

Since the book is now out of print, the author has generously made it available for free download on his website, in PDF format, including all the source code files and the release notes.

[Prentice-Hall Inc.]: http://www.prenticehall.com/

<!-----------------------------------------------------------------------------
                               REFERENCE LINKS
------------------------------------------------------------------------------>

[de-amalgamated]: https://www.sqlite.org/amalgamation.html "Learn about amalgamation in the SQLite project"

<!-- repo links -->

[open an issue]: https://github.com/tajmone/lemon-grove/issues/new "Click to open a new issue..."
[:badge-travis:]: https://travis-ci.com/tajmone/lemon-grove.svg?branch=master
[:project-travis:]: https://travis-ci.com/tajmone/lemon-grove

<!-- xrefs -->

[pomelo]: #pomelo-rust "Jump to pomelo review"
[Lemon Slicer]: #lemon-slicer "Jump to Lemon Slicer review"

<!-- project files & folders -->

[slcd]: ./lemon/sliced/ "Go to the de-amalgamated Lemon source code"

<!-- external references -->

[LALR(1)]: https://en.wikipedia.org/wiki/LALR_parser "See Wikipedia page on LALR parser"
[parser generator]: https://en.wikipedia.org/wiki/Compiler-compiler "See Wikipedia page on Compiler-compiler"

<!-- Lemon -->

[Lemon homepage]: http://www.hwaci.com/sw/lemon/ "Visit the official Lemon homepage"
[Lemon documentation]: https://sqlite.org/src/doc/trunk/doc/lemon.html "Read the official Lemon documentation"
[Lemon on Wikipedia]: https://en.wikipedia.org/wiki/Lemon_Parser_Generator "Read the Wikepida page for Lemon Parser Generator"

<!-- 3rd party tools -->

[Fossil]: https://www.fossil-scm.org/ "Visit Fossil website"
[re2c]: http://re2c.org/ "Visit re2c website"
[SQLite]: https://www.sqlite.org/index.html "Visit SQLite website"

<!-- Licenses -->

[Unlicense]: https://unlicense.org/ "Visit unlicense.org"

<!-- people -->

[@dccmx]: https://github.com/dccmx "View @dccmx's GitHub profile"
[@gwenn]: https://github.com/gwenn "View gwenn's GitHub profile"
[@ksherlock]: https://github.com/ksherlock "View @ksherlock's GitHub profile"
[@nsf]: https://github.com/nsf "View nsf's GitHub profile"
[@renjipanicker]: https://github.com/renjipanicker "View @renjipanicker's GitHub profile"
[@sergeyklay]: https://github.com/sergeyklay "View Serghei Iakovlev's GitHub profile"
[Allen Holub]: https://holub.com "Visit Allen Holub's website"
[Artem Butusov]: https://github.com/sormy "View Artem Butusov's GitHub profile"
[Martin Vejnár]: https://github.com/avakar "View Martin Vejnár's GitHub profile"
[Masafumi Oyamada]: http://mooz.github.io/ "Visit Masafumi Oyamada's website"
[Rodrigo Rivas Costa]: https://github.com/rodrigorc "View Rodrigo Rivas Costa's GitHub profile"
[Roopesh Chander]: https://github.com/roop "View Roopesh Chander's GitHub profile"
[Serghei Iakovlev]: https://github.com/sergeyklay "View Serghei Iakovlev's GitHub profile"
[Tristano Ajmone]: https://github.com/tajmone "View Tristano Ajmone's GitHub profile"
[Wez Furlong]: https://github.com/wez "View Wez Furlong's GitHub profile"
[Yursen Kim]: https://github.com/kyursen "View Yursen Kim's GitHub profile"


<!-- EOF -->
